import{j as s,L as n}from"./index-CN1hkNaS.js";import{u as r}from"./useQuery-C37Zs1O9.js";import{A as o,a as c}from"./AdminLayout-Dtl-kDgA.js";import{J as t,R as d,P as x,M as m,N as j,K as p}from"./ChartCard-B4NgDGCG.js";const l=["#6366F1","#10B981","#F59E0B","#E11D48"];function g(){const e=r({queryKey:["admin","ai-analytics"],queryFn:async()=>(await c.aiAnalytics()).data});return s.jsxs(o,{title:"AI Analytics",children:[e.isLoading&&s.jsx(n,{}),e.data&&s.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[s.jsxs(t,{title:"Total AI Questions",subtitle:"Last 30 days",children:[s.jsx("p",{className:"text-3xl font-semibold text-slate-900",children:e.data.totalQuestions}),s.jsxs("p",{className:"text-xs text-slate-500",children:["Avg response ",e.data.avgResponseMs," ms"]})]}),s.jsx(t,{title:"Question Categories",children:s.jsx(d,{width:"100%",height:220,children:s.jsxs(x,{children:[s.jsx(m,{data:e.data.categoryBreakdown,dataKey:"value",nameKey:"name",outerRadius:80,children:e.data.categoryBreakdown.map((a,i)=>s.jsx(j,{fill:l[i%l.length]},i))}),s.jsx(p,{})]})})}),s.jsx(t,{title:"Top Teachers",children:s.jsx("ul",{className:"space-y-2 text-sm text-slate-600",children:e.data.topTeachers.map(a=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:a.name}),s.jsx("span",{className:"font-semibold text-slate-900",children:a.count})]},a.name))})}),s.jsx(t,{title:"Most Queried Documents",children:s.jsx("ul",{className:"space-y-2 text-sm text-slate-600",children:e.data.topDocuments.map(a=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:a.title}),s.jsx("span",{className:"font-semibold text-slate-900",children:a.count})]},a.title))})})]})]})}export{g as AiAnalytics};
