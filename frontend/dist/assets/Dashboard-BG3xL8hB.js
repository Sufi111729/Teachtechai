import{R as A,r as N,j as u,u as _t,a as Et,L as Tt,S as Ct,z as Ve}from"./index-CN1hkNaS.js";import{u as _e}from"./useQuery-C37Zs1O9.js";import{c as Be,a as X,A as $t,S as Nt,F as Dt,C as Lt}from"./AdminLayout-Dtl-kDgA.js";import{g as It,i as K,G as Fe,a as Pe,m as Rt,b as U,c as F,T as zt,s as Se,f as D,d as qe,L as B,e as Bt,h as Ft,D as rt,j as Mt,E as Wt,C as me,A as nt,k as z,l as Ee,n as ue,o as it,p as at,q as ye,u as ot,r as ve,t as de,v as Kt,w as st,x as ct,y as Vt,z as lt,B as qt,F as Me,H as We,I as Te,J as he,R as se,K as ce,P as Gt,M as Ht,N as Qt}from"./ChartCard-B4NgDGCG.js";import{R as Ut,D as Yt,P as Xt}from"./Pagination-DDH6wBrv.js";import{C as Zt}from"./ConfirmModal-Bw0MBfm6.js";import{E as Jt}from"./EmptyState-KcKSc6Kb.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Be("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ut(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function nr(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return It(r,n)}function ir(e,t,n){var r=n==="width",i=e.x,o=e.y,a=e.width,s=e.height;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function be(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function ar(e,t){return ut(e,t+1)}function or(e,t,n,r,i){for(var o=(r||[]).slice(),a=t.start,s=t.end,c=0,l=1,f=a,p=function(){var m=r==null?void 0:r[c];if(m===void 0)return{v:ut(r,l)};var v=c,y,O=function(){return y===void 0&&(y=n(m,v)),y},b=m.coordinate,w=c===0||be(e,b,O,f,s);w||(c=0,f=a,l+=1),w&&(f=b+e*(O()/2+i),c+=l)},d;l<=o.length;)if(d=p(),d)return d.v;return[]}function fe(e){"@babel/helpers - typeof";return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(e)}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ge(Object(n),!0).forEach(function(r){sr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sr(e,t,n){return t=cr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cr(e){var t=lr(e,"string");return fe(t)=="symbol"?t:t+""}function lr(e,t){if(fe(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fe(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ur(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,c=t.end,l=function(d){var h=o[d],m,v=function(){return m===void 0&&(m=n(h,d)),m};if(d===a-1){var y=e*(h.coordinate+e*v()/2-c);o[d]=h=C(C({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate})}else o[d]=h=C(C({},h),{},{tickCoord:h.coordinate});var O=be(e,h.tickCoord,v,s,c);O&&(c=h.tickCoord-e*(v()/2+i),o[d]=C(C({},h),{},{isShow:!0}))},f=a-1;f>=0;f--)l(f);return o}function fr(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,c=t.start,l=t.end;if(o){var f=r[s-1],p=n(f,s-1),d=e*(f.coordinate+e*p/2-l);a[s-1]=f=C(C({},f),{},{tickCoord:d>0?f.coordinate-d*e:f.coordinate});var h=be(e,f.tickCoord,function(){return p},c,l);h&&(l=f.tickCoord-e*(p/2+i),a[s-1]=C(C({},f),{},{isShow:!0}))}for(var m=o?s-1:s,v=function(b){var w=a[b],x,g=function(){return x===void 0&&(x=n(w,b)),x};if(b===0){var j=e*(w.coordinate-e*g()/2-c);a[b]=w=C(C({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else a[b]=w=C(C({},w),{},{tickCoord:w.coordinate});var S=be(e,w.tickCoord,g,c,l);S&&(c=w.tickCoord+e*(g()/2+i),a[b]=C(C({},w),{},{isShow:!0}))},y=0;y<m;y++)v(y);return a}function pr(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,c=e.interval,l=e.tickFormatter,f=e.unit,p=e.angle;if(!i||!i.length||!r)return[];if(K(c)||Fe.isSsr)return ar(i,typeof c=="number"&&K(c)?c:0);var d=[],h=s==="top"||s==="bottom"?"width":"height",m=f&&h==="width"?Pe(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=function(w,x){var g=U(l)?l(w.value,x):w.value;return h==="width"?nr(Pe(g,{fontSize:t,letterSpacing:n}),m,p):Pe(g,{fontSize:t,letterSpacing:n})[h]},y=i.length>=2?Rt(i[1].coordinate-i[0].coordinate):1,O=ir(o,y,h);return c==="equidistantPreserveStart"?or(y,O,v,i,a):(c==="preserveStart"||c==="preserveStartEnd"?d=fr(y,O,v,i,a,c==="preserveStartEnd"):d=ur(y,O,v,i,a),d.filter(function(b){return b.isShow}))}var dr=["viewBox"],hr=["viewBox"],mr=["ticks"];function re(e){"@babel/helpers - typeof";return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(e)}function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?He(Object(n),!0).forEach(function(r){Ke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ke(e,t){if(e==null)return{};var n=yr(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yr(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pt(r.key),r)}}function br(e,t,n){return t&&Qe(e.prototype,t),n&&Qe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xr(e,t,n){return t=xe(t),gr(e,ft()?Reflect.construct(t,n||[],xe(e).constructor):t.apply(e,n))}function gr(e,t){if(t&&(re(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wr(e)}function wr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ft=function(){return!!e})()}function xe(e){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xe(e)}function Ar(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}function Ce(e,t){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ce(e,t)}function Ke(e,t,n){return t=pt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e){var t=Or(e,"string");return re(t)=="symbol"?t:t+""}function Or(e,t){if(re(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(re(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var je=function(e){function t(n){var r;return vr(this,t),r=xr(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return Ar(t,e),br(t,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=ke(r,dr),s=this.props,c=s.viewBox,l=ke(s,hr);return!Se(o,c)||!Se(a,l)||!Se(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,c=i.height,l=i.orientation,f=i.tickSize,p=i.mirror,d=i.tickMargin,h,m,v,y,O,b,w=p?-1:1,x=r.tickSize||f,g=K(r.tickCoord)?r.tickCoord:r.coordinate;switch(l){case"top":h=m=r.coordinate,y=a+ +!p*c,v=y-w*x,b=v-w*d,O=g;break;case"left":v=y=r.coordinate,m=o+ +!p*s,h=m-w*x,O=h-w*d,b=g;break;case"right":v=y=r.coordinate,m=o+ +p*s,h=m+w*x,O=h+w*d,b=g;break;default:h=m=r.coordinate,y=a+ +p*c,v=y+w*x,b=v+w*d,O=g;break}return{line:{x1:h,y1:v,x2:m,y2:y},tick:{x:O,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,c=r.orientation,l=r.mirror,f=r.axisLine,p=T(T(T({},D(this.props,!1)),D(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var d=+(c==="top"&&!l||c==="bottom"&&l);p=T(T({},p),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var h=+(c==="left"&&!l||c==="right"&&l);p=T(T({},p),{},{x1:i+h*a,y1:o,x2:i+h*a,y2:o+s})}return A.createElement("line",te({},p,{className:F("recharts-cartesian-axis-line",qe(f,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,c=s.tickLine,l=s.stroke,f=s.tick,p=s.tickFormatter,d=s.unit,h=pr(T(T({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=D(this.props,!1),O=D(f,!1),b=T(T({},y),{},{fill:"none"},D(c,!1)),w=h.map(function(x,g){var j=a.getTickLineCoord(x),S=j.line,_=j.tick,P=T(T(T(T({textAnchor:m,verticalAnchor:v},y),{},{stroke:"none",fill:l},O),_),{},{index:g,payload:x,visibleTicksCount:h.length,tickFormatter:p});return A.createElement(B,te({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},Bt(a.props,x,g)),c&&A.createElement("line",te({},b,S,{className:F("recharts-cartesian-axis-tick-line",qe(c,"className"))})),f&&t.renderTickItem(f,P,"".concat(U(p)?p(x.value,g):x.value).concat(d||"")))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,c=i.ticksGenerator,l=i.className,f=i.hide;if(f)return null;var p=this.props,d=p.ticks,h=ke(p,mr),m=d;return U(c)&&(m=d&&d.length>0?c(this.props):c(h)),a<=0||s<=0||!m||!m.length?null:A.createElement(B,{className:F("recharts-cartesian-axis",l),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Ft.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=F(i.className,"recharts-cartesian-axis-tick-value");return A.isValidElement(r)?a=A.cloneElement(r,T(T({},i),{},{className:s})):U(r)?a=r(T(T({},i),{},{className:s})):a=A.createElement(zt,te({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(N.Component);Ke(je,"displayName","CartesianAxis");Ke(je,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jr=["type","layout","connectNulls","ref"],Pr=["key"];function ne(e){"@babel/helpers - typeof";return ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(e)}function Ue(e,t){if(e==null)return{};var n=Sr(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Sr(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ye(Object(n),!0).forEach(function(r){R(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J(e){return Tr(e)||Er(e)||_r(e)||kr()}function kr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _r(e,t){if(e){if(typeof e=="string")return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}}function Er(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tr(e){if(Array.isArray(e))return $e(e)}function $e(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ht(r.key),r)}}function $r(e,t,n){return t&&Xe(e.prototype,t),n&&Xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nr(e,t,n){return t=ge(t),Dr(e,dt()?Reflect.construct(t,n||[],ge(e).constructor):t.apply(e,n))}function Dr(e,t){if(t&&(ne(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lr(e)}function Lr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dt=function(){return!!e})()}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ge(e)}function Ir(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}function Ne(e,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ne(e,t)}function R(e,t,n){return t=ht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e){var t=Rr(e,"string");return ne(t)=="symbol"?t:t+""}function Rr(e,t){if(ne(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ne(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pe=function(e){function t(){var n;Cr(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Nr(this,t,[].concat(i)),R(n,"state",{isAnimationFinished:!0,totalLength:0}),R(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),R(n,"getStrokeDasharray",function(a,s,c){var l=c.reduce(function(O,b){return O+b});if(!l)return n.generateSimpleStrokeDasharray(s,a);for(var f=Math.floor(a/l),p=a%l,d=s-a,h=[],m=0,v=0;m<c.length;v+=c[m],++m)if(v+c[m]>p){h=[].concat(J(c.slice(0,m)),[p-v]);break}var y=h.length%2===0?[0,d]:[d];return[].concat(J(t.repeat(c,f)),J(h),y).map(function(O){return"".concat(O,"px")}).join(", ")}),R(n,"id",ot("recharts-line-")),R(n,"pathRef",function(a){n.mainCurve=a}),R(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),R(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Ir(t,e),$r(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,c=o.yAxis,l=o.layout,f=o.children,p=Mt(f,Wt);if(!p)return null;var d=function(v,y){return{x:v.x,y:v.y,value:v.value,errorVal:ye(v.payload,y)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return A.createElement(B,h,p.map(function(m){return A.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:a,xAxis:s,yAxis:c,layout:l,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.dot,l=s.points,f=s.dataKey,p=D(this.props,!1),d=D(c,!0),h=l.map(function(v,y){var O=L(L(L({key:"dot-".concat(y),r:3},p),d),{},{index:y,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:l});return t.renderDotItem(c,O)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return A.createElement(B,le({className:"recharts-line-dots",key:"dots"},m),h)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,c=s.type,l=s.layout,f=s.connectNulls;s.ref;var p=Ue(s,jr),d=L(L(L({},D(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:c,layout:l,connectNulls:f});return A.createElement(me,le({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,c=a.strokeDasharray,l=a.isAnimationActive,f=a.animationBegin,p=a.animationDuration,d=a.animationEasing,h=a.animationId,m=a.animateNewValues,v=a.width,y=a.height,O=this.state,b=O.prevPoints,w=O.totalLength;return A.createElement(nt,{begin:f,duration:p,isActive:l,easing:d,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var g=x.t;if(b){var j=b.length/s.length,S=s.map(function(E,W){var G=Math.floor(W*j);if(b[G]){var H=b[G],I=z(H.x,E.x),Pt=z(H.y,E.y);return L(L({},E),{},{x:I(g),y:Pt(g)})}if(m){var St=z(v*2,E.x),kt=z(y/2,E.y);return L(L({},E),{},{x:St(g),y:kt(g)})}return L(L({},E),{},{x:E.x,y:E.y})});return o.renderCurveStatically(S,r,i)}var _=z(0,w),P=_(g),k;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});k=o.getStrokeDasharray(P,w,$)}else k=o.generateSimpleStrokeDasharray(w,P);return o.renderCurveStatically(s,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,c=this.state,l=c.prevPoints,f=c.totalLength;return s&&a&&a.length&&(!l&&f>0||!Ee(l,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,c=i.className,l=i.xAxis,f=i.yAxis,p=i.top,d=i.left,h=i.width,m=i.height,v=i.isAnimationActive,y=i.id;if(o||!s||!s.length)return null;var O=this.state.isAnimationFinished,b=s.length===1,w=F("recharts-line",c),x=l&&l.allowDataOverflow,g=f&&f.allowDataOverflow,j=x||g,S=ue(y)?this.id:y,_=(r=D(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=_.r,k=P===void 0?3:P,$=_.strokeWidth,E=$===void 0?2:$,W=it(a)?a:{},G=W.clipDot,H=G===void 0?!0:G,I=k*2+E;return A.createElement(B,{className:w},x||g?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(S)},A.createElement("rect",{x:x?d:d-h/2,y:g?p:p-m/2,width:x?h:h*2,height:g?m:m*2})),!H&&A.createElement("clipPath",{id:"clipPath-dots-".concat(S)},A.createElement("rect",{x:d-I/2,y:p-I/2,width:h+I,height:m+I}))):null,!b&&this.renderCurve(j,S),this.renderErrorBar(j,S),(b||a)&&this.renderDots(j,H,S),(!v||O)&&at.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(J(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(J(a),J(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(A.isValidElement(r))o=A.cloneElement(r,i);else if(U(r))o=r(i);else{var a=i.key,s=Ue(i,Pr),c=F("recharts-line-dot",typeof r!="boolean"?r.className:"");o=A.createElement(rt,le({key:a},s,{className:c}))}return o}}])}(N.PureComponent);R(pe,"displayName","Line");R(pe,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fe.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});R(pe,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,c=e.displayedData,l=e.offset,f=t.layout,p=c.map(function(d,h){var m=ye(d,a);return f==="horizontal"?{x:ve({axis:n,ticks:i,bandSize:s,entry:d,index:h}),y:ue(m)?null:r.scale(m),value:m,payload:d}:{x:ue(m)?null:n.scale(m),y:ve({axis:r,ticks:o,bandSize:s,entry:d,index:h}),value:m,payload:d}});return L({points:p,layout:f},l)});var zr=["layout","type","stroke","connectNulls","isRange","ref"],Br=["key"],mt;function ie(e){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(e)}function yt(e,t){if(e==null)return{};var n=Fr(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fr(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ze(Object(n),!0).forEach(function(r){M(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bt(r.key),r)}}function Wr(e,t,n){return t&&Je(e.prototype,t),n&&Je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kr(e,t,n){return t=we(t),Vr(e,vt()?Reflect.construct(t,n||[],we(e).constructor):t.apply(e,n))}function Vr(e,t){if(t&&(ie(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qr(e)}function qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vt=function(){return!!e})()}function we(e){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},we(e)}function Gr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},De(e,t)}function M(e,t,n){return t=bt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e){var t=Hr(e,"string");return ie(t)=="symbol"?t:t+""}function Hr(e,t){if(ie(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ie(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Y=function(e){function t(){var n;Mr(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Kr(this,t,[].concat(i)),M(n,"state",{isAnimationFinished:!0}),M(n,"id",ot("recharts-area-")),M(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),U(a)&&a()}),M(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),U(a)&&a()}),n}return Gr(t,e),Wr(t,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var c=this.props,l=c.dot,f=c.points,p=c.dataKey,d=D(this.props,!1),h=D(l,!0),m=f.map(function(y,O){var b=Q(Q(Q({key:"dot-".concat(O),r:3},d),h),{},{index:O,cx:y.x,cy:y.y,dataKey:p,value:y.value,payload:y.payload,points:f});return t.renderDotItem(l,b)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return A.createElement(B,Z({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,c=a[0].x,l=a[a.length-1].x,f=r*Math.abs(c-l),p=de(a.map(function(d){return d.y||0}));return K(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(de(o.map(function(d){return d.y||0})),p)),K(p)?A.createElement("rect",{x:c<l?c:c-f,y:0,width:f,height:Math.floor(p+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,c=a[0].y,l=a[a.length-1].y,f=r*Math.abs(c-l),p=de(a.map(function(d){return d.x||0}));return K(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(de(o.map(function(d){return d.x||0})),p)),K(p)?A.createElement("rect",{x:0,y:c<l?c:c-f,width:p+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,c=s.layout,l=s.type,f=s.stroke,p=s.connectNulls,d=s.isRange;s.ref;var h=yt(s,zr);return A.createElement(B,{clipPath:o?"url(#clipPath-".concat(a,")"):null},A.createElement(me,Z({},D(h,!0),{points:r,connectNulls:p,type:l,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&A.createElement(me,Z({},D(this.props,!1),{className:"recharts-area-curve",layout:c,type:l,connectNulls:p,fill:"none",points:r})),f!=="none"&&d&&A.createElement(me,Z({},D(this.props,!1),{className:"recharts-area-curve",layout:c,type:l,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,c=a.baseLine,l=a.isAnimationActive,f=a.animationBegin,p=a.animationDuration,d=a.animationEasing,h=a.animationId,m=this.state,v=m.prevPoints,y=m.prevBaseLine;return A.createElement(nt,{begin:f,duration:p,isActive:l,easing:d,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var b=O.t;if(v){var w=v.length/s.length,x=s.map(function(_,P){var k=Math.floor(P*w);if(v[k]){var $=v[k],E=z($.x,_.x),W=z($.y,_.y);return Q(Q({},_),{},{x:E(b),y:W(b)})}return _}),g;if(K(c)&&typeof c=="number"){var j=z(y,c);g=j(b)}else if(ue(c)||Kt(c)){var S=z(y,0);g=S(b)}else g=c.map(function(_,P){var k=Math.floor(P*w);if(y[k]){var $=y[k],E=z($.x,_.x),W=z($.y,_.y);return Q(Q({},_),{},{x:E(b),y:W(b)})}return _});return o.renderAreaStatically(x,g,r,i)}return A.createElement(B,null,A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(b))),A.createElement(B,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,c,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,c=o.isAnimationActive,l=this.state,f=l.prevPoints,p=l.prevBaseLine,d=l.totalLength;return c&&a&&a.length&&(!f&&d>0||!Ee(f,a)||!Ee(p,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,c=i.className,l=i.top,f=i.left,p=i.xAxis,d=i.yAxis,h=i.width,m=i.height,v=i.isAnimationActive,y=i.id;if(o||!s||!s.length)return null;var O=this.state.isAnimationFinished,b=s.length===1,w=F("recharts-area",c),x=p&&p.allowDataOverflow,g=d&&d.allowDataOverflow,j=x||g,S=ue(y)?this.id:y,_=(r=D(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=_.r,k=P===void 0?3:P,$=_.strokeWidth,E=$===void 0?2:$,W=it(a)?a:{},G=W.clipDot,H=G===void 0?!0:G,I=k*2+E;return A.createElement(B,{className:w},x||g?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(S)},A.createElement("rect",{x:x?f:f-h/2,y:g?l:l-m/2,width:x?h:h*2,height:g?m:m*2})),!H&&A.createElement("clipPath",{id:"clipPath-dots-".concat(S)},A.createElement("rect",{x:f-I/2,y:l-I/2,width:h+I,height:m+I}))):null,b?null:this.renderArea(j,S),(a||b)&&this.renderDots(j,H,S),(!v||O)&&at.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(N.PureComponent);mt=Y;M(Y,"displayName","Area");M(Y,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Fe.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});M(Y,"getBaseValue",function(e,t,n,r){var i=e.layout,o=e.baseValue,a=t.props.baseValue,s=a??o;if(K(s)&&typeof s=="number")return s;var c=i==="horizontal"?r:n,l=c.scale.domain();if(c.type==="number"){var f=Math.max(l[0],l[1]),p=Math.min(l[0],l[1]);return s==="dataMin"?p:s==="dataMax"||f<0?f:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]});M(Y,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,i=e.yAxis,o=e.xAxisTicks,a=e.yAxisTicks,s=e.bandSize,c=e.dataKey,l=e.stackedData,f=e.dataStartIndex,p=e.displayedData,d=e.offset,h=t.layout,m=l&&l.length,v=mt.getBaseValue(t,n,r,i),y=h==="horizontal",O=!1,b=p.map(function(x,g){var j;m?j=l[f+g]:(j=ye(x,c),Array.isArray(j)?O=!0:j=[v,j]);var S=j[1]==null||m&&ye(x,c)==null;return y?{x:ve({axis:r,ticks:o,bandSize:s,entry:x,index:g}),y:S?null:i.scale(j[1]),value:j,payload:x}:{x:S?null:r.scale(j[1]),y:ve({axis:i,ticks:a,bandSize:s,entry:x,index:g}),value:j,payload:x}}),w;return m||O?w=b.map(function(x){var g=Array.isArray(x.value)?x.value[0]:null;return y?{x:x.x,y:g!=null&&x.y!=null?i.scale(g):null}:{x:g!=null?r.scale(g):null,y:x.y}}):w=y?i.scale(v):r.scale(v),Q({points:b,baseLine:w,layout:h,isRange:O},d)});M(Y,"renderDotItem",function(e,t){var n;if(A.isValidElement(e))n=A.cloneElement(e,t);else if(U(e))n=e(t);else{var r=F("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,o=yt(t,Br);n=A.createElement(rt,Z({},o,{key:i,className:r}))}return n});function ae(e){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(e)}function Qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wt(r.key),r)}}function Yr(e,t,n){return t&&Ur(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xr(e,t,n){return t=Ae(t),Zr(e,xt()?Reflect.construct(t,n||[],Ae(e).constructor):t.apply(e,n))}function Zr(e,t){if(t&&(ae(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}function Jr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xt=function(){return!!e})()}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ae(e)}function en(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}function Le(e,t){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Le(e,t)}function gt(e,t,n){return t=wt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(e){var t=tn(e,"string");return ae(t)=="symbol"?t:t+""}function tn(e,t){if(ae(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ae(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}function rn(e){var t=e.xAxisId,n=st(),r=ct(),i=Vt(t);return i==null?null:N.createElement(je,Ie({},i,{className:F("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return lt(a,!0)}}))}var V=function(e){function t(){return Qr(this,t),Xr(this,t,arguments)}return en(t,e),Yr(t,[{key:"render",value:function(){return N.createElement(rn,this.props)}}])}(N.Component);gt(V,"displayName","XAxis");gt(V,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function oe(e){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe(e)}function nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jt(r.key),r)}}function on(e,t,n){return t&&an(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sn(e,t,n){return t=Oe(t),cn(e,At()?Reflect.construct(t,n||[],Oe(e).constructor):t.apply(e,n))}function cn(e,t){if(t&&(oe(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ln(e)}function ln(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(At=function(){return!!e})()}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oe(e)}function un(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Re(e,t)}function Re(e,t){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Re(e,t)}function Ot(e,t,n){return t=jt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e){var t=fn(e,"string");return oe(t)=="symbol"?t:t+""}function fn(e,t){if(oe(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oe(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}var pn=function(t){var n=t.yAxisId,r=st(),i=ct(),o=qt(n);return o==null?null:N.createElement(je,ze({},o,{className:F("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return lt(s,!0)}}))},q=function(e){function t(){return nn(this,t),sn(this,t,arguments)}return un(t,e),on(t,[{key:"render",value:function(){return N.createElement(pn,this.props)}}])}(N.Component);Ot(q,"displayName","YAxis");Ot(q,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var dn=Me({chartName:"LineChart",GraphicalChild:pe,axisComponents:[{axisType:"xAxis",AxisComp:V},{axisType:"yAxis",AxisComp:q}],formatAxisMap:We}),et=Me({chartName:"BarChart",GraphicalChild:Te,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:V},{axisType:"yAxis",AxisComp:q}],formatAxisMap:We}),hn=Me({chartName:"AreaChart",GraphicalChild:Y,axisComponents:[{axisType:"xAxis",AxisComp:V},{axisType:"yAxis",AxisComp:q}],formatAxisMap:We});function mn(){return _e({queryKey:["admin","stats"],queryFn:async()=>(await X.stats()).data})}const yn={pending:"from-amber-50 to-white text-amber-600",success:"from-emerald-50 to-white text-emerald-600",neutral:"from-indigo-50 to-white text-indigo-600"};function ee({label:e,value:t,trend:n,icon:r,tone:i="neutral"}){return u.jsxs("div",{className:"group rounded-2xl border border-slate-200 bg-gradient-to-br px-5 py-4 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md",children:[u.jsx("div",{className:`mb-4 inline-flex items-center justify-center rounded-xl border border-slate-200 bg-white/80 px-3 py-2 ${yn[i]}`,children:r}),u.jsx("p",{className:"text-2xl font-semibold text-slate-900",children:t}),u.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:e}),u.jsx("p",{className:"mt-2 text-xs text-emerald-600",children:n})]})}const vn=[{name:"Mon",users:120},{name:"Tue",users:220},{name:"Wed",users:280},{name:"Thu",users:260},{name:"Fri",users:320},{name:"Sat",users:400},{name:"Sun",users:460}],bn=[{name:"Mon",approvals:18},{name:"Tue",approvals:24},{name:"Wed",approvals:32},{name:"Thu",approvals:28},{name:"Fri",approvals:40},{name:"Sat",approvals:44},{name:"Sun",approvals:36}],xn=[{name:"Mon",ai:60},{name:"Tue",ai:82},{name:"Wed",ai:105},{name:"Thu",ai:98},{name:"Fri",ai:130},{name:"Sat",ai:155},{name:"Sun",ai:180}],gn=[{name:"Mon",docs:10},{name:"Tue",docs:14},{name:"Wed",docs:16},{name:"Thu",docs:12},{name:"Fri",docs:18},{name:"Sat",docs:21},{name:"Sun",docs:24}],tt=[{name:"Science",value:40},{name:"Math",value:30},{name:"History",value:18},{name:"Other",value:12}],wn=["#6366F1","#10B981","#F59E0B","#E11D48"];function En(){var w,x,g,j,S,_;const[e,t]=N.useState("teachers"),[n,r]=N.useState(""),[i,o]=N.useState(1),[a,s]=N.useState(10),[c,l]=N.useState({open:!1,userId:null,action:null}),f=mn(),p=_t(),d=_e({queryKey:["admin","pending-teachers"],queryFn:async()=>(await X.pendingTeachers()).data,refetchInterval:15e3,refetchOnWindowFocus:!0}),h=_e({queryKey:["admin","pending-students"],queryFn:async()=>(await X.pendingStudents()).data,refetchInterval:15e3,refetchOnWindowFocus:!0}),m=Et({mutationFn:async()=>{if(!(!c.userId||!c.action))return e==="teachers"?c.action==="approve"?X.approveTeacher(c.userId):X.rejectTeacher(c.userId):c.action==="approve"?X.approveStudent(c.userId):X.rejectStudent(c.userId)},onSuccess:()=>{Ve.success("Action completed"),p.invalidateQueries({queryKey:["admin"]})},onError:()=>Ve.error("Action failed"),onSettled:()=>l({open:!1,userId:null,action:null})}),v=e==="teachers"?d.data||[]:h.data||[],y=N.useMemo(()=>{const P=n.toLowerCase();return v.filter(k=>[k.name,k.email,k.teacherCode,k.assignedTeacherCode,k.rollNo].filter(Boolean).some($=>$.toLowerCase().includes(P)))},[v,n]),O=Math.max(1,Math.ceil(y.length/a)),b=y.slice((i-1)*a,i*a);return u.jsxs($t,{title:"Admin Dashboard",children:[u.jsx("div",{className:"mb-4 flex items-center justify-end",children:u.jsxs("button",{onClick:()=>p.invalidateQueries({queryKey:["admin"]}),className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-600",children:[u.jsx(Ut,{size:14}),"Refresh"]})}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[u.jsx(ee,{label:"Pending Teachers",value:((w=f.data)==null?void 0:w.pendingTeachers)??0,trend:"+12% this week",icon:u.jsx(tr,{size:18}),tone:"pending"}),u.jsx(ee,{label:"Pending Students",value:((x=f.data)==null?void 0:x.pendingStudents)??0,trend:"+8% this week",icon:u.jsx(Nt,{size:18}),tone:"pending"}),u.jsx(ee,{label:"Approved Users",value:((g=f.data)==null?void 0:g.approvedUsers)??0,trend:"+18% this month",icon:u.jsx(er,{size:18}),tone:"success"}),u.jsx(ee,{label:"Total Documents",value:((j=f.data)==null?void 0:j.totalDocuments)??0,trend:"+5% this week",icon:u.jsx(Dt,{size:18}),tone:"neutral"}),u.jsx(ee,{label:"AI Queries Today",value:((S=f.data)==null?void 0:S.aiQueriesToday)??0,trend:"+20% today",icon:u.jsx(rr,{size:18}),tone:"neutral"}),u.jsx(ee,{label:"System Health",value:((_=f.data)==null?void 0:_.systemHealth)??"Healthy",trend:"99.9% uptime",icon:u.jsx(Lt,{size:18}),tone:"success"})]}),u.jsxs("div",{className:"mt-6 grid gap-4 xl:grid-cols-4",children:[u.jsx(he,{title:"User Growth",subtitle:"Last 7 days",children:u.jsx(se,{width:"100%",height:200,children:u.jsxs(dn,{data:vn,children:[u.jsx(V,{dataKey:"name",hide:!0}),u.jsx(q,{hide:!0}),u.jsx(ce,{}),u.jsx(pe,{type:"monotone",dataKey:"users",stroke:"#6366F1",strokeWidth:2})]})})}),u.jsx(he,{title:"Approvals",subtitle:"Daily approvals",children:u.jsx(se,{width:"100%",height:200,children:u.jsxs(et,{data:bn,children:[u.jsx(V,{dataKey:"name",hide:!0}),u.jsx(q,{hide:!0}),u.jsx(ce,{}),u.jsx(Te,{dataKey:"approvals",fill:"#10B981",radius:[8,8,0,0]})]})})}),u.jsx(he,{title:"AI Usage",subtitle:"Queries per day",children:u.jsx(se,{width:"100%",height:200,children:u.jsxs(hn,{data:xn,children:[u.jsx(V,{dataKey:"name",hide:!0}),u.jsx(q,{hide:!0}),u.jsx(ce,{}),u.jsx(Y,{type:"monotone",dataKey:"ai",stroke:"#6366F1",fill:"#E0E7FF"})]})})}),u.jsx(he,{title:"Documents",subtitle:"Uploads last 7 days",children:u.jsx(se,{width:"100%",height:200,children:u.jsxs(et,{data:gn,children:[u.jsx(V,{dataKey:"name",hide:!0}),u.jsx(q,{hide:!0}),u.jsx(ce,{}),u.jsx(Te,{dataKey:"docs",fill:"#F59E0B",radius:[8,8,0,0]})]})})})]}),u.jsxs("div",{className:"mt-6 rounded-2xl bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>t("teachers"),className:`rounded-full px-4 py-2 text-sm font-semibold ${e==="teachers"?"bg-indigo-600 text-white":"bg-slate-100 text-slate"}`,children:"Pending Teachers"}),u.jsx("button",{onClick:()=>t("students"),className:`rounded-full px-4 py-2 text-sm font-semibold ${e==="students"?"bg-indigo-600 text-white":"bg-slate-100 text-slate"}`,children:"Pending Students"})]}),u.jsx("div",{className:"ml-auto flex flex-wrap gap-2",children:u.jsx("input",{value:n,onChange:P=>r(P.target.value),placeholder:"Search by name or email",className:"rounded-xl border border-slate-200 px-3 py-2 text-sm"})})]}),u.jsxs("div",{className:"mt-4",children:[(e==="teachers"?d.isLoading:h.isLoading)&&u.jsx(Tt,{}),!d.isLoading&&!h.isLoading&&b.length===0&&u.jsx(Jt,{title:"No pending requests",description:"All caught up."}),b.length>0&&u.jsx(Yt,{headers:e==="teachers"?["Select","Name","Email","Type","Requested","Status","Actions"]:["Select","Name","Email","Type","Requested","Status","Actions"],children:b.map((P,k)=>u.jsxs("tr",{className:k%2===0?"bg-white":"bg-slate-50/40",children:[u.jsx("td",{className:"px-4 py-3",children:u.jsx("input",{type:"checkbox"})}),u.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-slate-900",children:P.name}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:P.email}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:e==="teachers"?"Teacher":"Student"}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:new Date(P.createdAt).toLocaleDateString()}),u.jsx("td",{className:"px-4 py-3",children:u.jsx(Ct,{status:P.status})}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>l({open:!0,userId:P.userId,action:"approve"}),className:"rounded-full bg-emerald-500/10 px-3 py-1 text-xs font-semibold text-emerald-700",children:"Approve"}),u.jsx("button",{onClick:()=>l({open:!0,userId:P.userId,action:"reject"}),className:"rounded-full bg-rose-500/10 px-3 py-1 text-xs font-semibold text-rose-700",children:"Reject"})]})})]},P.userId))})]}),u.jsx("div",{className:"mt-4",children:u.jsx(Xt,{page:i,totalPages:O,pageSize:a,onPageChange:o,onPageSizeChange:P=>{s(P),o(1)}})})]}),u.jsxs("div",{className:"mt-6 rounded-2xl bg-white p-6 shadow-sm",children:[u.jsx("p",{className:"mb-3 text-sm font-semibold text-slate-900",children:"AI Question Categories"}),u.jsx(se,{width:"100%",height:220,children:u.jsxs(Gt,{children:[u.jsx(Ht,{data:tt,dataKey:"value",nameKey:"name",outerRadius:80,children:tt.map((P,k)=>u.jsx(Qt,{fill:wn[k]},k))}),u.jsx(ce,{})]})})]}),u.jsx(Zt,{open:c.open,title:c.action==="approve"?"Approve account":"Reject account",description:"This action will update the user status immediately.",confirmLabel:c.action==="approve"?"Approve":"Reject",onClose:()=>l({open:!1,userId:null,action:null}),onConfirm:()=>m.mutate()})]})}export{En as Dashboard};
